<h1>Kali Linux/ Troll Exploitation</h1>


<h2>Description</h2>
This project uses Kali Linux Tools along with wireshark to exploit a "Troll" test virtual machine and gain root access to retreive a file. 
<br />


<h2>Languages and Utilities Used</h2>

- <b>Nmap</b> 
- <b>Hydra</b>
- <b>Wireshark</b>

<h2>Environments Used </h2>

- <b>Kali Linux</b>
- <b>VMware</b> 

<h2>Program walk-through:</h2>

<p align="center">
1. Start off with a Netscan to locate the Troll Machine on your network.<br/>
  <br/>Netdiscover -I eth0<br/>
  <br/><br/>
<img src="https://i.imgur.com/qRMXHuz.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
2. Ping to verify that the connection exists. <br/>
  <br/><br/>
<img src="https://i.imgur.com/HgAiIz1.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
3. Use Nmap to scan for vulnerabilities  <br/>
  <br/>Vulnerabilities found in ftp port 21, ssh port 22 and http port 80 <br/>
  <br/><br/>
<img src="https://i.imgur.com/ijDoqkO.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
4. Login to the ftp server which is vulnerable using ftp <br/>
  <br/><br/>
<img src="https://i.imgur.com/gq8FzjP.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
5.Use ls to list the files in the directory. <br/>
  <br/><br/>
<img src="https://i.imgur.com/K9W2tbM.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
6. Use get lol.pcap to download the file<br/>
  <br/><br/>
<img src="https://i.imgur.com/1mceBqD.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
7. Analyze the file using Wireshark  <br/>
  <br/><br/>
<img src="https://i.imgur.com/DL0BucF.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br /> 
  8. Follow the tcp stream for any information from the pcap file<br/>
  <br/><br/>
<img src="https://i.imgur.com/wUUARBy.png" height="80%" width="80%" alt="TrollVM"/>
  <br/><br/>
  <img src="https://i.imgur.com/JkqH50b.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
9. I put sup3rs3cr3tdirlol into the address bar with the ip address. It brought up this Index.<br/>
  <br/><br/>
<img src="https://i.imgur.com/mboh5b0.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
10. I downloaded the roftlmao file and used chmod +x roflmao to run the file <br/>
  <br/>Vulnerabilities found in ftp port 21, ssh port 22 and http port 80 <br/>
  <br/><br/>
<img src="https://i.imgur.com/aA90EiF.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
  11. I put the IP into the address bar and landed on this index<br/>
  <br/><br/>
<img src="https://i.imgur.com/AjLzwHH.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
12. I downloaded the files which_one_lol.txt and Pass.txt, then used Hydra to run what appears to be a username list + password, to try and match the password to the username. <br/>
  <br/><br/>
<img src="https://i.imgur.com/PE5nEJ7.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br /> 
  13. Used Pass.txt instead of the password inside the file to gain access. Opened Pass.txt with Nano and changed Good_job to Pass.txt.<br/>
  <br/><br/>
<img src="https://i.imgur.com/qwS7FbB.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
14. Used the ssh port which was proven exploitable in the initial scan. Input the password and username to gain access. I then used bash to start inputting commands. <br/>
  <br/><br/>
<img src="https://i.imgur.com/FrDClFk.png" height="80%" width="80%" alt="TrollVM"/>
<br />
<br />
15. I decided to brute force the operating system to gain root access, because of an artificial time limit placed on access to the vm. I did this by first using uname -a to figure out the operating system. 
I downloaded an existing exploit, then used a python server to transfer a downloaded exploit unto the Troll Vm. I ran the exploit in the tmp folder to avoid permission checks.  
  <br/>
  <br/><br/>
  <img src="https://i.imgur.com/Z7pB9sy.png" height="80%" width="80%" alt="TrollVM"/>
  <br/>Put 37292 in the home folder and used get /37292 on the troll vm to access the file on the connected python server. <br/>
  <br/><br/>
<img src="https://i.imgur.com/iK8X8VU.png" height="80%" width="80%" alt="TrollVM"/>
  <br/>Used gcc to execute the exploit. Then ran the file /37292.<br/>
  <br/> This file gave me root access<br/>
  <img src="https://i.imgur.com/JvAN6fX.png" alt="TrollVM"/>
  <br/><br/>
  <br/>I became the root user and completed the challenge<br/>
  <br/><br/>
  <img src="https://i.imgur.com/JarBFJ6.png" alt="TrollVM"/>
<br />
<br />
</p>

<!--
 ```diff
- text in red
+ text in green
! text in orange
# text in gray
@@ text in purple (and bold)@@
```
--!>
